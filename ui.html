<!-- CSS -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/thomas-lowry/figma-plugin-ds/dist/figma-plugin-ds.css">

<style>
  body {
    padding: 2em;
  }

  div {
    margin: 1em;
  }
  
  input {
    display: block
  }

  [type="radio"] {
    display: inline;
  }
</style>


<!-- HTML -->
<h1>Social Media Post Generator</h1>

<div id="form">
  <div class="input">
    <label class="label" for="username">Username</label>
    <input type="input" id="username" class="input__field" value="Luna">
  </div>

  <div class="input">
    <label class="label" for="name">Name</label>
    <input type="input" id="name" class="input__field" value="Luna">
  </div>
  
  <div class="input">
    <label class="label" for="description">Description</label>
    <input type="input" id="description" class="input__field" value="Lorem ipsum">
  </div>  

  <div class="switch">
    <input id="dark-mode-on" class="switch__toggle" type="checkbox">
    <label class="switch__label" for="dark-mode-on">Dark mode</label>
  </div>

  <div class="radio">
    <input type="radio" id="no-image" class="radio__button" name="variantGroup" value="1">
    <label class="radio__label" for="no-image">No image</label>
    
    <input type="radio" id="single" class="radio__button" name="variantGroup" value="2">
    <label class="radio__label" for="single">Single image</label>

    <input type="radio" id="carousel" class="radio__button" name="variantGroup" value="3">
    <label class="radio__label" for="carousel">Carousel</label>
  </div>

  <div class="button">
    <button class="button button--primary" id="submit-form">Submit</button>
  </div>
</div>

<!-- JS, serves the purpose of communicating form information to the TS file-->
<script>
  document.getElementById("submit-form").onclick = () => { // lambda function, takes in no arguments and runs this function on the given elemenet
    const username = document.getElementById('username').value;
    const name = document.getElementById('name').value;
    const desc = document.getElementById('description').value;

    const darkModeState = document.getElementById('dark-mode-on').checked; // returns true or false depending whether or not its been checked

    const imageVariant = document.querySelector('input[name="variantGroup"]:checked').value;


    parent.postMessage({pluginMessage: {name, username, desc, darkModeState, imageVariant}}, '*');
  }
</script>